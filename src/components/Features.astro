---
export interface Feature {
  title: string;
  description: string;
  icon: string;
  link?: string;
}

interface Props {
  title: string;
  subtitle: string;
  features: Feature[];
}

const { title, subtitle, features } = Astro.props;
---

<section class="py-24 bg-white dark:bg-secondary-900">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center max-w-3xl mx-auto mb-16">
      <h2
        class="text-3xl md:text-4xl font-title font-bold text-secondary-900 dark:text-secondary-100 mb-4"
      >
        {title}
      </h2>
      <p class="text-lg text-secondary-600 dark:text-secondary-400">
        {subtitle}
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
      {
        features.map((feature) => {
          const Tag = feature.link ? 'a' : 'div';
          return (
            <Tag
              href={feature.link}
              class={`p-8 rounded-2xl bg-secondary-50 dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 transition-all duration-300 block ${feature.link ? 'hover:-translate-y-2 hover:border-primary-200 dark:hover:border-primary-600 hover:shadow-xl group cursor-pointer' : 'hover:-translate-y-2'}`}
            >
              <div
                class={`w-14 h-14 rounded-xl flex items-center justify-center mb-6 transition-colors duration-300 ${feature.link ? 'bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400 group-hover:bg-primary-600 group-hover:text-white' : 'bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400'}`}
              >
                <svg
                  class="w-8 h-8 relative z-10"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                  set:html={feature.icon}
                />
              </div>
              <h3
                class={`text-xl font-bold font-title mb-3 transition-colors ${feature.link ? 'group-hover:text-primary-700 dark:group-hover:text-primary-400' : ''}`}
              >
                {feature.title}
              </h3>
              <p class="text-secondary-600 dark:text-secondary-400">{feature.description}</p>
              {feature.link && (
                <div class="mt-6 flex items-center text-primary-600 dark:text-primary-400 font-medium text-sm">
                  Learn more
                  <svg
                    class="w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform duration-300"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M17 8l4 4m0 0l-4 4m4-4H3"
                    />
                  </svg>
                </div>
              )}
            </Tag>
          );
        })
      }
    </div>
  </div>
</section>
